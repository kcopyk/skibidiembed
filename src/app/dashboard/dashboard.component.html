<body [ngClass]="{'dark-mode': isDarkMode}">
  <div class="container-fluid d-flex flex-column">
    <!-- Header -->
    <div class="text-center mb-5">
      <h1 class="display-4 text-shadow">Smarter Home Dashboard</h1>
      <p class="lead text-muted">Live updates on your house environment</p>
    </div>

    <!-- Dark Mode Toggle -->
    <label class="toggle-container" aria-label="Toggle Dark Mode">
      <input
        type="checkbox"
        class="toggle-slider"
        (change)="toggleDarkMode()"
        [checked]="isDarkMode"
        [attr.aria-checked]="isDarkMode ? 'true' : 'false'"
      />
      <i class="fas fa-sun sun-icon" *ngIf="!isDarkMode" title="Light Mode"></i>
      <i class="fas fa-moon moon-icon" *ngIf="isDarkMode" title="Dark Mode"></i>
    </label>

    <!-- Top Row: Temperature and Humidity -->
    <div class="row g-4 justify-content-center mb-4">
      <!-- Temperature Card -->
      <div class="col-md-6 col-lg-4">
        <div class="card text-center shadow-lg border-0 custom-card">
          <div class="card-body">
            <h5 class="card-title">Temperature</h5>
            <h2 class="display-3 text-primary">
              {{ sensorData.temperature.length ? sensorData.temperature[sensorData.temperature.length - 1] : 'Loading...' }}Â°C
            </h2>
            <p class="card-text text-muted">
              Latest update: {{ sensorData.timestamps.length ? sensorData.timestamps[sensorData.timestamps.length - 1] : 'Waiting for data...' }}
            </p>
          </div>
        </div>
      </div>

      <!-- Humidity Card -->
      <div class="col-md-6 col-lg-4">
        <div class="card text-center shadow-lg border-0 custom-card">
          <div class="card-body">
            <h5 class="card-title">Humidity</h5>
            <h2 class="display-3 text-info">
              {{ sensorData.humidity.length ? sensorData.humidity[sensorData.humidity.length - 1] : 'Loading...' }}%
            </h2>
            <p class="card-text text-muted">
              Latest update: {{ sensorData.timestamps.length ? sensorData.timestamps[sensorData.timestamps.length - 1] : 'Waiting for data...' }}
            </p>
          </div>
        </div>
      </div>
    </div>

    <!-- Bottom Row: Motion, Rain, and Mood -->
    <div class="row g-4 mt-4 justify-content-center">
      <!-- Motion Detection -->
      <div class="col-md-6 col-lg-4">
        <div class="card text-center shadow-lg border-0 custom-card">
          <div class="card-body">
            <h5 class="card-title">Motion Detection</h5>
            <h2 class="display-3" [ngClass]="{'text-success': sensorData.motionDetected[sensorData.motionDetected.length - 1], 'text-danger': !sensorData.motionDetected[sensorData.motionDetected.length - 1]}">
              {{ sensorData.motionDetected[sensorData.motionDetected.length - 1] ? 'Motion Detected' : 'No Motion' }}
            </h2>
          </div>
        </div>
      </div>

      <!-- Rain Percentage -->
      <div class="col-md-6 col-lg-4">
        <div class="card text-center shadow-lg border-0 custom-card">
          <div class="card-body">
            <h5 class="card-title">Chance of Rain</h5>
            <h2 class="display-3 text-warning">
              {{ sensorData.rainPercentage.length ? sensorData.rainPercentage[sensorData.rainPercentage.length - 1] : 'Loading...' }}%
            </h2>
          </div>
        </div>
      </div>

      <!-- Mood -->
      <!-- <div class="col-md-4 col-lg-3">
        <div class="card text-center shadow-lg border-0 custom-card">
          <div class="card-body">
            <h5 class="card-title">Mood</h5>
            <h2 class="display-3">{{ getMoodEmoji() }}</h2>
          </div>
        </div>
      </div> -->
    </div>

    <!-- Chart Section -->
    <!-- <div class="chart-container mt-5">
      <div class="text-center">
        <h2>Data Graph</h2>
        <canvas id="temperatureChart" aria-label="Temperature and Humidity Data"></canvas>
      </div>
    </div> -->
  </div>
</body>
